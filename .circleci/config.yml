version: 2
jobs:
  build:
    branches:
      only:
      - cirecleci
    working_directory: ~/spark
    docker:
      - image: circleci/android:api-28-alpha
    environment:
      JVM_OPTS: -Xmx3200m
      dependencies:
        override:
        - echo y | android update sdk --no-ui --all --filter tools,platform-tools,build-tools-19.1.0,android-19,extra-google-m2repository,extra-google-google_play_services,extra-android-support
        - ANDROID_HOME=/opt/android/sdk ./gradlew dependencies
